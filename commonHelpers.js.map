{"version":3,"file":"commonHelpers.js","sources":["../src/main.js","../src/js/render-functions.js","../src/js/pixabay-api.js"],"sourcesContent":["export const searchForm = document.querySelector(\".search-form\");\nexport const picturesContainer = document.querySelector(\".pictures\");\n\n\n\n","import { picturesContainer } from \"../main\";\nimport { pixabeyApiPictures } from \"./pixabay-api\";\nconst data = pixabeyApiPictures.hits;\nconsole.log(data);\n\nexport function renderPictures(arr) {\n    return arr.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            width=\"360\"\n            height=\"200\"\n          />\n        </a>\n    `).join(\"\");\n}\n\npicturesContainer.insertAdjacentHTML(\"afterbegin\", renderPictures(data));\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { searchForm } from \"../main\";\nimport { renderPictures } from \"./render-functions\";\n\nexport function pixabeyApiPictures(query) {\n    const API_KEY = \"44868701-a6c2bf036a020cab1604664f3\";\n    const imageType = \"photo\";\n    const orientation = \"horizontal\" \n    const safesearch = true;\n\n\n    return fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safesearch}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}\n\nfunction fetchError() {\n    iziToast.error({\n        title: \"Error\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n    });\n}\n\nsearchForm.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const formValue = form.elements.text.value.toLowerCase();\n\n    pixabeyApiPictures(formValue)\n        .then(renderPictures)\n        .catch(fetchError)\n        .finally(form.reset());\n}\n\n"],"names":["searchForm","picturesContainer","data","pixabeyApiPictures","renderPictures","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","query","response","fetchError","iziToast","handlerSubmit","event","form","formValue"],"mappings":"svBAAO,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAoB,SAAS,cAAc,WAAW,ECC7DC,EAAOC,EAAmB,KAChC,QAAQ,IAAID,CAAI,EAET,SAASE,EAAeC,EAAK,CAChC,OAAOA,EAAI,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA,oCAC3DL,CAAa;AAAA;AAAA;AAAA,mBAG9BD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,KAKlB,EAAE,KAAK,EAAE,CACd,CAEAP,EAAkB,mBAAmB,aAAcG,EAAeF,CAAI,CAAC,ECdhE,SAASC,EAAmBU,EAAO,CAOtC,OAAO,MAAM,qEAA6CA,CAAK,uDAAkE,EAAU,EAAE,EACxI,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CAEA,SAASC,GAAa,CAClBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACjB,CAAK,CACL,CAEAhB,EAAW,iBAAiB,SAAUiB,CAAa,EAEnD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAYD,EAAK,SAAS,KAAK,MAAM,cAE3ChB,EAAmBiB,CAAS,EACvB,KAAKhB,CAAc,EACnB,MAAMW,CAAU,EAChB,QAAQI,EAAK,MAAK,CAAE,CAC7B"}